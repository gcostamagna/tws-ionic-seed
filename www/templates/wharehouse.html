<ion-view view-title="Wharehouse">
    <ion-nav-bar>   
        <div class="bar bar-header">
            <div id="navbar" >
                <div data-ng-click="setWineCategory('')" 
                     ng-class="'' == wineCategory ? 'text-uppercase background-violet' : 'text-uppercase'">
                    Tutti i vini
                </div>
                <div data-ng-click="setWineCategory('Bianco')"
                     ng-class="'Bianco' == wineCategory ? 'text-uppercase background-violet' : 'text-uppercase'">
                    Bianco
                </div>
                <div data-ng-click="setWineCategory('Rosso')" 
                     ng-class="'Rosso' == wineCategory ? 'text-uppercase background-violet' : 'text-uppercase'">
                    Rosso
                </div>
                <div data-ng-click="setWineCategory('Bollicine')" 
                     ng-class="'Bollicine' == wineCategory ? 'text-uppercase background-violet' : 'text-uppercase'">
                    Bollicine
                </div>
                <div data-ng-click="setWineCategory('Rosati')" 
                     ng-class="'Rosati' == wineCategory ? 'text-uppercase background-violet' : 'text-uppercase'">
                    Rosati
                </div>
                <div data-ng-click="setWineCategory('Champagne')" 
                     ng-class="'Champagne' == wineCategory ? 'text-uppercase background-violet' : 'text-uppercase'">
                    Champagne
                </div>
                <div data-ng-click="setWineCategory('Dolce')" 
                     ng-class="'Dolce'== wineCategory ? 'text-uppercase background-violet' : 'text-uppercase'" >
                    Vini dolci
                </div>
            </div>
        </div>
    </ion-nav-bar>
    <ion-content>
        <div class="row">
            <div  class="col col-90">
                <div class="row table-header text-uppercase">
                    <div class="col col-300">Vino</div>
                    <div class="col col-20">Regione</div>
                    <div class="col col-10">Categoria</div>
                    <div class="col col-10"><span class="ion-android-locate font-20"></span></div>
                    <div class="col col-10"><span class="ion-cube font-20"></span></div>
                    <div class="col col-10"><span class="ion-speedometer font-20"></span></div>
                </div>
                <ion-scroll style="height: 80vh">
                    <div class="row table-row" ng-repeat="wine in wines | filter:{Subcategory:wineCategory, Territory_Code:wineRegion}">
                        <div class="col col-30">{{wine.Winemaker_Name}} {{wine.Variant_Description}} {{wine.Variant_Code}} </div>
                        <div class="col col-20">{{wine.Territory_Code}}</div>
                        <div class="col col-10">{{wine.Subcategory}}</div>
                        <div class="col col-10 text-bold">{{wine.Target_Stock_Quantity}}</div>
                        <div class="col col-10 text-bold">{{wine.Current_Variant_Stock_Quantity}}</div>
                        <div class="col col-10 text-bold"><span ng-hide="wine.Target_Stock_Quantity == 0">{{(wine.Current_Variant_Stock_Quantity / wine.Target_Stock_Quantity) * 100 | number: 0}}%</span></div>
                    </div>
                </ion-scroll>
            </div>
            <div class="col col-10" 
                        overflow-scroll="false">
                <div class="ion-ios7-location right"></div>
                <ion-list class="region-list"> 
                    <li ng-repeat="region in regions" 
                        class="text-align-right">
                        <a data-ng-click="setWineRegion('{{region.filter}}')" 
                           ng-class="region.filter == wineRegion ? 'text-uppercase bold' : ''">{{region.name}} {{region.letter}}
                        </a>
                    </li>
                </ion-list>
            </div>
        </div>
    </ion-content>
</ion-view>


